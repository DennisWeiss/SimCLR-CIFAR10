hydra:
  job_logging:
#    formatters:
#      simple:
#        format: '[]'
    root:
      handlers: [file, console]  # logging to file only.
  run:
    #dir: logs/${dataset}
    dir: logs/MoCo/${dataset}


dataset: cifar10
data_dir: data


# train options
seed: 42 # sacred handles automatic seeding when passed in the config
batch_size: 256
workers: 16
epochs: 1000
log_interval: 100


# MoCo configs
backbone: resnet18 # resnet18 or resnet34, resnet50
moco_dim: 128
moco_k: 8192  # 1<<13.
moco_m: 0.999
moco_t: 0.2


# loss options
learning_rate: 0.03
optimizer: 'sgd'
weight_decay: 1e-4
momentum: 0.9
#temperature: 0.5 # see appendix B.7.: Optimal temperature under different batch sizes


# finetune options
# by default, we use Adam with lr=0.001 to finetune
finetune_epochs: 100
load_epoch: 1000  # which checkpoint epoch to load
